export const bankRates = {
  lastUpdate: '2025-08-08',
  banks: [
         {
       id: 'bot',
       name: 'å°ç£éŠ€è¡Œ',
       logo: 'ðŸ¦',
       website: 'https://cln.bot.com.tw/fln/fln01002/010?loan=HLN',
       rates: {
         mortgage: { 
           rate: '1.775%', 
           type: 'å›ºå®š', 
           note: 'é¦–è³¼å„ªæƒ åˆ©çŽ‡',
           minAmount: 'ä¾é‘‘åƒ¹é‡‘é¡',
           maxAmount: 'ä¾é‘‘åƒ¹é‡‘é¡'
         },
         credit: { 
           rate: '2.985%èµ·', 
           type: 'æµ®å‹•', 
           note: 'å…¬æ•™/å„ªè³ªä¼æ¥­å“¡å·¥',
           minAmount: 100000,
           maxAmount: '200è¬',
           website: 'https://cln.bot.com.tw/fln/fln01002/010?loan=CLN'
         }
       }
     },
         {
       id: 'ctbc',
       name: 'ä¸­åœ‹ä¿¡è¨—',
       logo: 'ðŸ›ï¸',
       website: 'https://www.ctbcbank.com/content/dam/minisite/long/loan/mortgage/product01.html?MediaChannel=ctbcpromo4&ActivityCode=27000',
       rates: {
         mortgage: { 
           rate: '2.68%èµ·', 
           type: 'æµ®å‹•', 
           note: 'ä¸€èˆ¬åž‹æˆ¿è²¸',
           minAmount: 'ä¾é‘‘åƒ¹é‡‘é¡',
           maxAmount: 'ä¾é‘‘åƒ¹é‡‘é¡'
         },
         credit: { 
           rate: '3.85%èµ·', 
           type: 'æµ®å‹•', 
           note: 'ä¸­ä¿¡è–ªè½‰æˆ¶',
           minAmount: 200000,
           maxAmount: '800è¬',
           website: 'https://www.ctbcbank.com/twrbo/zh_tw/loan_index/personal_loan/personal_loan_product.html'
         }
       }
     },
         {
       id: 'esun',
       name: 'çŽ‰å±±éŠ€è¡Œ',
       logo: 'ðŸ”ï¸',
       website: 'https://www.esunbank.com/zh-tw/personal/loan/house',
       rates: {
         mortgage: { 
           rate: '2.50%èµ·', 
           type: 'æµ®å‹•', 
           note: 'eæŒ‡æˆ¿è²¸',
           minAmount: 'ä¾é‘‘åƒ¹é‡‘é¡',
           maxAmount: 'ä¾é‘‘åƒ¹é‡‘é¡'
         },
         credit: { 
           rate: '3.3%èµ·', 
           type: 'æµ®å‹•', 
           note: 'eæŒ‡ä¿¡è²¸',
           minAmount: 150000,
           maxAmount: '500è¬',
           website: 'https://www.esunbank.com/zh-tw/personal/loan/personal'
         }
       }
     },
         {
       id: 'cathay',
       name: 'åœ‹æ³°ä¸–è¯',
       logo: 'ðŸŒ³',
       website: 'https://www.cathaybk.com.tw/cathaybk/personal/loan/product/mortgage/',
       rates: {
         mortgage: { 
           rate: '2.72%èµ·', 
           type: 'æµ®å‹•', 
           note: 'ä¸€èˆ¬è³¼å±‹è²¸æ¬¾',
           minAmount: 'ä¾é‘‘åƒ¹é‡‘é¡',
           maxAmount: 'ä¾é‘‘åƒ¹é‡‘é¡'
         },
         credit: { 
           rate: '4.73%èµ·', 
           type: 'æµ®å‹•', 
           note: 'æ³°å¹¸ç¦ä¿¡ç”¨è²¸æ¬¾',
           minAmount: 300000,
           maxAmount: '300è¬',
           website: 'https://www.cathaybk.com.tw/cathaybk/personal/loan/product/personal-loan/'
         }
       }
     },
         {
       id: 'fubon',
       name: 'å¯Œé‚¦éŠ€è¡Œ',
       logo: 'ðŸ’°',
       website: 'https://www.fubon.com/banking/personal/mortgage/all_plan/myplan.htm',
       rates: {
         mortgage: { 
           rate: '2.65%èµ·', 
           type: 'æµ®å‹•', 
           note: 'å¯Œé‚¦è³¼å±‹æˆ¿è²¸',
           minAmount: 'ä¾é‘‘åƒ¹é‡‘é¡',
           maxAmount: 'ä¾é‘‘åƒ¹é‡‘é¡'
         },
         credit: { 
           rate: '3.50%èµ·', 
           type: 'æµ®å‹•', 
           note: 'å¯Œé‚¦ä¸€èˆ¬ä¿¡è²¸',
           minAmount: 180000,
           maxAmount: '500è¬',
           website: 'https://www.fubon.com/banking/personal/personal_loan/all_plan/myplan.htm'
         }
       }
     },
         {
       id: 'shinhan',
       name: 'æ–°å…‰éŠ€è¡Œ',
       logo: 'âœ¨',
       website: 'https://www.skbank.com.tw/houseloan',
       rates: {
         mortgage: { 
           rate: '2.50%èµ·', 
           type: 'æµ®å‹•', 
           note: 'ä¸€èˆ¬å„ªæƒ æˆ¿è²¸',
           minAmount: 'ä¾é‘‘åƒ¹é‡‘é¡',
           maxAmount: 'ä¾é‘‘åƒ¹é‡‘é¡'
         },
         credit: { 
           rate: '4.24%èµ·', 
           type: 'æµ®å‹•', 
           note: 'ä¸Šç­æ—å°ˆæ¡ˆ',
           minAmount: 200000,
           maxAmount: '300è¬',
           website: 'https://www.skbank.com.tw/CC-Loan'
         }
       }
     }
  ]
};

// èŽ·å–æ‰€æœ‰é“¶è¡Œåç§°
export const getBankNames = () => bankRates.banks.map(bank => bank.name);

 // èŽ·å–æŒ‡å®šè´·æ¬¾ç±»åž‹çš„æ‰€æœ‰åˆ©çŽ‡
 export const getRatesByType = (loanType) => {
   return bankRates.banks.map(bank => ({
     name: bank.name,
     logo: bank.logo,
     website: bank.rates[loanType].website || bank.website, // å„ªå…ˆä½¿ç”¨è²¸æ¬¾é¡žåž‹å°ˆç”¨é€£çµ
     rate: bank.rates[loanType].rate,
     type: bank.rates[loanType].type,
     note: bank.rates[loanType].note,
     minAmount: bank.rates[loanType].minAmount,
     maxAmount: bank.rates[loanType].maxAmount
   }));
 };

// æŒ‰åˆ©çŽ‡æŽ’åº
export const sortRatesByValue = (rates, ascending = true) => {
  return [...rates].sort((a, b) => {
    // æå–åˆ©çŽ‡æ•¸å€¼é€²è¡ŒæŽ’åºï¼ˆç§»é™¤%å’Œèµ·å­—ï¼‰
    const getRateValue = (rate) => {
      if (typeof rate === 'string') {
        return parseFloat(rate.replace(/[%èµ·]/g, ''));
      }
      return rate;
    };
    
    const rateA = getRateValue(a.rate);
    const rateB = getRateValue(b.rate);
    
    return ascending ? rateA - rateB : rateB - rateA;
  });
};

// èŽ·å–åˆ©çŽ‡èŒƒå›´
export const getRateRange = (loanType) => {
  const rates = getRatesByType(loanType);
  
  // æå–åˆ©çŽ‡æ•¸å€¼é€²è¡Œè¨ˆç®—ï¼ˆç§»é™¤%å’Œèµ·å­—ï¼‰
  const getRateValue = (rate) => {
    if (typeof rate === 'string') {
      return parseFloat(rate.replace(/[%èµ·]/g, ''));
    }
    return rate;
  };
  
  const rateValues = rates.map(r => getRateValue(r.rate));
  const minRate = Math.min(...rateValues);
  const maxRate = Math.max(...rateValues);
  
  return { minRate, maxRate };
};
